# 公理N3：射影間変換公理（Inter-Projection Transformation Axiom）

## D-FUMT 非数数学理論 — 第3公理

*Creator: Nobuki Fujimoto*
*Framework: D-FUMT (Dimensional Fujimoto Universal Mathematical Theory)*
*Language: 0₀式 (Rei-shiki) / Rei*

---

## 公理の定義

**公理N3（射影間変換公理）：**

同一対象 O の異なる射影 πᵢ(O) と πⱼ(O) の間には、
構造を保存する変換 Tᵢⱼ が存在する。

```
∀O ∈ World, ∀πᵢ, πⱼ ∈ Π(O) :
  ∃Tᵢⱼ : πᵢ(O) → πⱼ(O)
  such that Tⱼᵢ ∘ Tᵢⱼ ≈ id  （近似的可逆性）
```

### 形式的定義

```
定義 N3.1（射影間変換 Tᵢⱼ）：
  Tᵢⱼ : 𝕄-Space → 𝕄-Space
  
  πᵢ(O) を入力として πⱼ(O) を出力する写像。
  
  要件：
  (a) 情報保存性：Tᵢⱼ が保存する情報量 ≥ min(info(πᵢ), info(πⱼ))
  (b) 計算可能性：Tᵢⱼ は有限時間で計算可能
  (c) 近似可逆性：Tⱼᵢ ∘ Tᵢⱼ(M) ≈ M（完全な可逆性は N5 により保証されない）

定義 N3.2（変換の忠実度 Fidelity）：
  F(Tᵢⱼ) = 1 - d(Tⱼᵢ(Tᵢⱼ(M)), M) / d_max
  
  F = 1 : 完全可逆（情報損失なし）
  F = 0 : 完全非可逆（情報全損失）
  0 < F < 1 : 部分可逆（通常のケース）
  
  ここで d は 𝕄-Space 上の距離関数。

定義 N3.3（変換グラフ G(O)）：
  対象 O の射影族 Π(O) を頂点、
  射影間変換 Tᵢⱼ を辺とするグラフ。
  
  G(O) = (Π(O), {Tᵢⱼ | πᵢ, πⱼ ∈ Π(O)})
  
  N3 はこのグラフが連結であることを主張する。
  すなわち、任意の射影から任意の射影へ到達可能。

定義 N3.4（最適経路 OptPath）：
  πᵢ から πⱼ への変換経路が複数あるとき、
  忠実度の積が最大となる経路を最適経路と呼ぶ。
  
  OptPath(πᵢ, πⱼ) = argmax_{path} ∏ F(Tₖₗ) for (k,l) ∈ path
```

---

## 仏教哲学との対応

**方便（upāya）**

仏教では「方便」— 真理に至る多様な道筋 — を重要視する。
同じ悟り（O の本質）に至る道が複数あり、
それぞれの道の間を行き来できること、これが方便の本質である。

```
スペクトル射影 ←→ リズム射影 ←→ 和声射影
     ↑                                ↑
     └─────── 感情射影 ───────────────┘

どの射影から出発しても、変換を通じて他の射影に到達できる。
「悟りの道は一つではない」
```

**空即是色（śūnyatā rūpam）：**

N1で「色即是空」（対象→構造）を述べた。
N3は「空即是色」（構造→対象の再構成）の基盤を与える。
射影 πᵢ(O) から Tᵢⱼ を経て πⱼ(O) に至るとき、
構造の世界から別の「色」（見え方）が生成される。

**転識得智（vijñāna → jñāna）：**

唯識思想における「認識の転換」は、N3の射影間変換に対応する。
同じ対象を別の視点で見ることで、新しい智慧が生じる。
スペクトルとして見えていた音楽が、和声として「聴こえ直す」体験。

---

## 構文への影響

### 射影間変換 `reproject`

```rei
// 音楽の射影間変換
music = Sound.load("symphony.wav")

// スペクトル → 和声への変換
music 
  |> project(:spectral)                    // 周波数の 𝕄
  |> reproject(:spectral, :harmonic)       // 和声の 𝕄 に変換
// → 𝕄{ :c_minor; :i, :iv, :V, :i }

// 忠実度を確認
music 
  |> project(:spectral) 
  |> reproject(:spectral, :harmonic) 
  |> fidelity
// → 0.92  （和声認識は近似的）
```

### パイプライン内での自然な変換

```rei
// 射影変換をパイプの中で自然に使う
image = Image.load("landscape.jpg")

image
  |> project(:spatial)              // 画素の 𝕄
  |> map(|px| px |> blur(3))        // 空間フィルタリング
  |> reproject(:spatial, :edge)     // エッジ検出射影に変換
  |> filter(|e| e.strength > 0.5)   // 強いエッジのみ
  |> reproject(:edge, :contour)     // 輪郭射影に変換
  |> render                         // 描画
```

### 変換グラフの探索 `transform_path`

```rei
// 最適な変換経路を発見
triangle |> transform_path(:vertices, :area)
// → [:vertices, :edges, :area]  
//   （頂点→辺→面積の2ステップが最短経路）

triangle |> transform_path(:vertices, :area) |> total_fidelity
// → 1.0  （幾何学的変換は完全可逆）
```

### 既存の数学的変換との統合

```rei
// フーリエ変換は射影間変換の特殊ケース
signal |> project(:time_domain) |> reproject(:time_domain, :frequency_domain)
// ↑ これは signal |> fft と同義

// ラプラス変換も同様
signal |> reproject(:time_domain, :s_domain)
// ↑ signal |> laplace と同義

// ウェーブレット変換
signal |> reproject(:time_domain, :time_frequency)
// ↑ signal |> wavelet と同義

// 既存の数学的変換が全て「射影間変換」の特殊ケースとして統一される
```

### 変換チェーンの省略記法 `via`

```rei
// 長い変換チェーン
data |> project(:raw) 
     |> reproject(:raw, :normalized) 
     |> reproject(:normalized, :feature) 
     |> reproject(:feature, :cluster)

// via で省略
data |> project(:raw) |> via(:normalized, :feature, :cluster)
// 自動的に最適経路で変換される
```

---

## σ（6属性）との関係

```
射影間変換は σ の変換規則を自然に導く：

Tᵢⱼ(M).σ.field    = transform_field(M.σ.field, πᵢ, πⱼ)
Tᵢⱼ(M).σ.flow     = transform_flow(M.σ.flow, πᵢ, πⱼ)
Tᵢⱼ(M).σ.memory   = M.σ.memory ++ [record(:reproject, πᵢ → πⱼ)]
Tᵢⱼ(M).σ.layer    = M.σ.layer  （射影変換は層を変えない）
Tᵢⱼ(M).σ.relation = transform_relation(M.σ.relation, πᵢ, πⱼ)
Tᵢⱼ(M).σ.will     = M.σ.will   （意志は射影によらない不変量）

注目すべきは：
- σ.memory は射影変換の履歴を自動記録する
- σ.will は射影に依存しない — これは「意志は見方を変えても変わらない」
  という深い哲学的意味を持つ
- σ.layer は保存される — 射影変換は「横の移動」であり「縦の移動」ではない
```

---

## 数学的定理

```
定理 N3.1（変換グラフの連結性定理）：
  任意の対象 O に対して、変換グラフ G(O) は連結である。
  
  すなわち、任意の2つの射影間に変換経路が存在する。
  
  証明の骨子：
  πᵢ(O) と πⱼ(O) は共に O の射影であるから、
  O を中継点として πᵢ(O) → O → πⱼ(O) の経路が常に存在する。
  （直接変換より非効率だが、存在は保証される）

定理 N3.2（忠実度の三角不等式）：
  F(Tᵢₖ) ≥ F(Tᵢⱼ) · F(Tⱼₖ)
  
  すなわち、直接変換は中継変換以上の忠実度を持つ。
  （中継するほど情報が失われ得る）

定理 N3.3（完全可逆変換の特徴づけ定理）：
  F(Tᵢⱼ) = 1 ⟺ πᵢ と πⱼ が保存する観測関数集合が同型
  
  すなわち、同じ量の情報を捉える射影間の変換は完全可逆。
  例：直交座標 ↔ 極座標（同じ位置情報の異なる表現）

定理 N3.4（フーリエ変換の統一定理）：
  フーリエ変換 F : L²(ℝ) → L²(ℝ) は、
  N3 における射影間変換 T_{time, freq} の特殊ケースである。
  
  さらに、以下の数学的変換も全て N3 の特殊ケース：
  - ラプラス変換
  - ウェーブレット変換
  - Z変換
  - ラドン変換
  - メリン変換
  
  N3 はこれらの変換を「射影間の移動」として統一する。

定理 N3.5（ISLとの接続定理）：
  忠実度 F(Tᵢⱼ) < 1 の射影間変換は不可逆である。
  この不可逆性は、ReiのISL（不可逆構文層）によって
  暗号学的に証明・記録される。
  
  すなわち、「どれだけの情報が失われたか」が検証可能。
```

---

## C1〜C5・U1〜U5との接続

```
C3（応答）    → N3：値に変換を適用するとき、
                    射影間変換は C3 の応答メカニズムの一般化。
                    「どの射影で応答するか」が傾向性 τ に依存。

C4（覚醒）    → N3：覚醒した値は、自分の射影間変換の全体像を認識する。
                    「自分がどの視点で見られているか」を知る。

U2（変換保存）→ N3：U2 が保証する「パイプ操作の領域間共通性」は、
                    N3 の射影間変換によって実現される。
                    画像処理パイプと音声処理パイプが同じ構文で書ける理由。

U4（領域架橋）→ N3：異なる領域の射影間変換が合成可能なとき、
                    領域を超えた架橋が成立する。
                    「音を色に変換する」= 音の射影 →(N3)→ 色の射影
```

---

## 実装への影響

| 変更点 | 種類 | 内容 |
|--------|------|------|
| `reproject` パイプコマンド | 新規追加 | 射影間変換の実行 |
| `fidelity` パイプコマンド | 新規追加 | 変換の忠実度を返す |
| `transform_path` パイプコマンド | 新規追加 | 最適変換経路の探索 |
| `via` パイプ省略記法 | 新規追加 | 変換チェーンの省略 |
| Transform レジストリ | 新規追加 | 登録済み射影間変換の管理 |
| ISL との連携 | 拡張 | 不可逆変換の暗号学的記録 |
| 新演算子 | **なし** | ゼロ |
| 破壊的変更 | **なし** | 既存のパイプ操作は射影間変換の特殊ケース |

---

## 4つの決定的な例への影響

| 操作 | N3なし | N3あり |
|------|--------|--------|
| **フーリエ変換** | 専用関数 `fft()` を呼ぶ | `reproject(:time, :frequency)` — 射影間移動として統一 |
| **色空間変換** | `rgb_to_hsv()` 等の個別関数 | `reproject(:rgb, :hsv)` — 同一フレームワーク |
| **座標変換** | `cartesian_to_polar()` | `reproject(:cartesian, :polar)` — 同一フレームワーク |
| **自然言語処理** | トークン化→構文解析→意味解析 が別パイプライン | `via(:token, :syntax, :semantic)` — 一貫したパイプ |

---

*N4（射影合成公理）への布石：*

N3は同一対象の異なる射影間の変換を扱った。
しかし、「三角形の射影」と「音の射影」を一つの 𝕄 に統合できるか？
N4は異種の射影の合成を公理化する — マルチメディア統一記述の理論的基盤。
U3（階層再帰公理）が「深さの統一」を保証するなら、
N4 は「幅の統一」— 異種コンテンツの同居 — を保証する。
