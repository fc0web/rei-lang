# Rei v0.5.5 公理の棚卸し（Axiom Inventory）

**日付:** 2026-02-15  
**対象:** rei-lang v0.5.5（1,533テスト / 7ドメイン）  
**目的:** 「公理」「定理」「装飾」の分類による最小核の特定

---

## 分類基準

| 区分 | 定義 | 判定テスト |
|------|------|-----------|
| **公理（Axiom）** | 他の概念から導出不可。これを除くとReiの本質が崩壊する | 「これなしでReiと呼べるか？」→ No |
| **定理（Theorem）** | 公理の組み合わせから導出可能。便利だが原理的には冗長 | 「公理だけで再構成できるか？」→ Yes |
| **装飾（Decoration）** | 応用・実装上の便宜。理論的には不要 | 「なくてもReiの数学的主張は変わらないか？」→ Yes |

---

## 結果: 公理候補は **4つ**（うち1つは条件付き）

### A1: 中心-周囲構造（Center-Periphery）

```
値 = 点ではなく場である
MDim(center, [neighbors], mode, weights)
```

**根拠:**
- Reiの全データ構造の基底。MultiDimNumberとして`src/core/types.ts`で定義
- ベンチマークで74%コード削減を実現した直接の源泉
- 漢字構造（休 = MDim("休", ["人","木"])）、音楽和声、経済モデル、全7ドメインがこのパターンに帰着
- `src/lang/mdim-core.ts`（1,124行）が実装の中核

**削除したら何が起きるか:** Reiは通常のスカラー言語になる。全ドメインが崩壊。  
**判定: 公理 ✓**

---

### A2: 拡張/縮約（Extension / Reduction）

```
0 → 0₀ → 0₀₀ → 0₀₀₀ ...  （拡張 ⊕）
0₀₀₀ → 0₀₀ → 0₀ → 0      （縮約 ⊖）
```

**根拠:**
- 値に「深さ」の次元を与える。`createExtended(base, subscripts)` in `mdim-core.ts`
- A1が空間的構造なら、A2は深度的構造。直交する軸
- `valStar()` による数値射影で計算と接続
- 4つの記法同値（感覚/対話/構造/意味）は全てこの公理の表現

**A1から導出可能か？:** 不可。A1は「周囲」の構造であり、「深さ」の構造は含まない。拡張は再帰的な添字操作であり、MDimの近傍関係とは本質的に異なる。  
**判定: 公理 ✓**

---

### A3: σ蓄積（Sigma Accumulation）

```
全ての変換は痕跡を残す
値 = (raw_value, σ_metadata)
σ = { field, flow, memory, layer, relation, will }
```

**根拠:**
- `src/lang/sigma.ts` + `sigma-deep.ts`（1,299行）で実装
- パイプチェーン通過時に自動蓄積（`wrapWithDeepSigma()`）
- これにより値が「自己参照的」になる — 自分がどこから来たか、どう変化したかを知っている
- evolve, tendency, awareness, 6属性分析の全てがσに依存

**A1 + A2から導出可能か？:** 不可。A1は構造、A2は深度。どちらも「履歴の保持」を含意しない。σは時間軸の導入であり、独立した公理。  
**判定: 公理 ✓**

---

### A4: 生成相転移（Genesis Phase Transitions）⚠️ 条件付き

```
void → ・(dot) → 0₀ → 0 → ℕ
遮断規則: 段階を飛ばせない
```

**根拠:**
- `theory/genesis-axiom-system.md` で定義、`src/lang/quad-genesis.ts` で実装
- 4つの公理（G-E₁存在, G-S₀構造分離, G-S₁値固定, G-N₁数体系生成）
- Firewall Rule（遮断規則）が段階的出現を保証

**A1 + A2 + A3から導出可能か？:** これが微妙。

- **導出可能と主張できる理由:** void→dot→0₀→0→ℕ は、A2の拡張/縮約チェーンの特殊ケース（最も根源的な拡張チェーン）と見なせる。Firewall Ruleは「拡張は一段階ずつ」というA2の制約として表現可能
- **独立公理と主張できる理由:** A2は既存の値に対する操作。Genesisは「値が存在する以前」の話。A2の前提（操作対象が存在する）をGenesisが保証している。存在論的にはA2より先行する

**判定: 条件付き公理 ⚠️（後述の「開放問題」参照）**

---

## 定理（公理から導出可能なもの）

| 概念 | 導出元 | 実装ファイル | 説明 |
|------|--------|-------------|------|
| **計算多元性** | A1 | `mdim-core.ts` L41-44 | 同じMDimに対する8つの計算モード。A1の構造に対する異なる関数適用 |
| **パイプ合成** | A1 + A3 | `evaluator.ts` | 関数合成 + σ蓄積。言語的には `f(g(x))` の糖衣構文 |
| **evolve** | A1 + A3 | `evolve.ts` | σの来歴とMDimの構造から最適モードを自動選択。A1 + A3の直接的帰結 |
| **6属性分解** | A3 | `sigma-deep.ts` | σを6つの側面に分解。σ自体が公理であり、6分解はその内部構造の分析 |
| **覚醒度(awareness)** | A1 + A3 | `mdim-core.ts` | パイプ深度・記憶長・近傍数から計算されるスカラー値 |
| **空間-層-拡散** | A1 + A3 | `space.ts` | MDimのネットワーク化。A1の再帰的適用 |
| **思考ループ** | A1 + A3 | `thought.ts` | 空間の反復拡散。Space + evolveの組み合わせ |
| **関係(binding)** | A3 | `relation.ts` | σの参照追跡の形式化 |
| **意志(intention)** | A3 | `will.ts` | σの傾向性の形式化 |
| **四価論理(Quad)** | A2 | `quad-genesis.ts` | top/bottom/topPi/bottomPi。拡張ゼロの論理的帰結 |
| **σ-reactive** | A3 | `sigma-reactive.ts` | 6属性間のカスケード反応。A3の動的挙動 |
| **GFT** | A1 | (theory/) | MDim構造のグラフ可視化 |
| **RCT** | A1 + A2 | `rct-local.ts` | 圧縮理論。MDim + Extension による情報圧縮 |
| **自律性(autonomy)** | A1 + A3 | `autonomy.ts` | 実体の認識・融合・分離・変態。A1構造のA3追跡 |

---

## 装飾（応用・便宜上の実装）

| 概念 | 実装ファイル | 説明 |
|------|-------------|------|
| 7ドメイン個別実装 | `domains/*.ts` | 自然科学・情報工学・人文学・芸術・音楽・経済・言語学。全てA1+A3のドメイン固有適用 |
| 36方向ブリッジ | `cross-domain*.ts` | 7ドメイン間の接続関数。ドメインの数の組み合わせ論 |
| ゲーム/パズル | `game.ts`, `puzzle.ts` | Space上のアプリケーション |
| エージェント | `entity-agent.ts`, `agent-space.ts` | 自律性 + イベントバスの応用 |
| イベントバス | `event-bus.ts` | Pub/Subパターン。一般的なソフトウェアパターン |
| メディエーター | `mediator.ts` | エージェント間調停。デザインパターン |
| 漢字MDim | `string-mdim.ts` | 文字列の中心-周囲表現。A1の応用例 |
| MCP サーバー | `mcp-server/` | 外部接続インフラ |
| 特定の計算モード8種 | `mdim-core.ts` | weighted等の具体的モード。「多元性がある」が公理であり、具体的モード数は装飾 |

---

## 構造図

```
                    ┌─────────────────────┐
                    │  A4? Genesis         │  ← 存在の始点（条件付き）
                    │  void → ・ → 0₀ → 0 │
                    └────────┬────────────┘
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                     │
   ┌────┴─────┐       ┌─────┴──────┐       ┌──────┴─────┐
   │ A1       │       │ A2         │       │ A3         │
   │ 中心-周囲 │       │ 拡張/縮約   │       │ σ蓄積      │
   │ (空間)    │       │ (深度)      │       │ (時間)      │
   └────┬─────┘       └─────┬──────┘       └──────┬─────┘
        │                    │                     │
   ┌────┴─────────────────────┴─────────────────────┴────┐
   │                    定理層                            │
   │  計算多元性, パイプ合成, evolve, 6属性分解,          │
   │  覚醒度, Space, Thought, Relation, Will,            │
   │  Quad, σ-reactive, GFT, RCT, Autonomy              │
   └─────────────────────────┬───────────────────────────┘
                             │
   ┌─────────────────────────┴───────────────────────────┐
   │                    装飾層                            │
   │  7ドメイン, 36ブリッジ, Game, Puzzle, Agent,        │
   │  EventBus, Mediator, 漢字MDim, MCP, 8計算モード    │
   └─────────────────────────────────────────────────────┘
```

---

## 開放問題: Reiの最小公理は3つか4つか？

**3公理説（A1 + A2 + A3）:**
- Genesisは「A2の最も根源的な適用」として導出可能
- void → dot は A2 の extend(nothing) と解釈可能
- Firewall Rule は A2 の「一段階拡張」制約と同型
- λ計算が3ルール（変数・抽象・適用）で完全なように、Reiも3公理で十分と主張可能

**4公理説（A1 + A2 + A3 + A4）:**
- A2は「既に存在する値」に対する操作。Genesisは「存在以前」の話
- 「無からの出現」はExtension操作の定義域外
- Peanoが5公理、ZFCが9公理であることを考えると、4は十分に少ない

**解決の方向:** A4を公理として認めるかどうかは、Reiが「計算体系」として閉じたいのか「存在論を含む体系」として主張したいのかによる。

- **計算体系として閉じる場合** → 3公理（A1, A2, A3）で十分。Genesisは哲学的動機として文書に残すが、形式的公理からは外す
- **存在論を含む場合** → 4公理。他の体系（Peano, ZFC, λ計算）にない「存在の起源」を形式化するのがReiの独自性であり、これを公理として明示すべき

---

## 次のステップ

1. **A4の判定** — Nobukiさんの意思決定が必要
2. **形式的記述** — 確定した公理を数学的に厳密に記述する
3. **導出証明** — 定理層の各概念が公理から導出できることの証明（スケッチ）
4. **独立性証明** — 各公理が他の公理から導出できないことの証明（スケッチ）
5. **テストマッピング** — 1,533テストそれぞれがどの公理に依存するかの分類
